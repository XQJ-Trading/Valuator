# fill out form architecture

해당 architecture는 단순하게는 세가지 절차를 따라서 DCF valuation이 완성되는 프로세스를 따른다.

1. form을 만든다.
```
너는 뛰어난 성과를 오랫동안 보여온 개인투자자야.
AAPL에 대해 기업분석을 통한 가치평가를 진행하려고 하는데, 기본적으로 DCF 를 통한 valuation을 주로 해.
가치평가를 위한 전형적인 양식을 스프레드시트 형태로 디자인해서 나에게 보여줘.
```

2. form을 채운다.
```
너는 탁월한 성과를 보인 장기간의 경력을 가진 개인투자자야. 아래의 형식에 값을 채워서 dcf valuation을 진행하려고 해.
실제 계산을 진행할 필요는 없고, 충분한 조사를 거쳐서 해당 양식을 충실하게 fill out하는 task를 수행해줘.
{form}
```

3. form을 계산한다.
```
너는 금융 기초지식이 풍부한 프로그래머야. 다음의 자료에 기반해서, dcf valuation의 결과를 제시하도록 해.
```

## 추가 규칙
다음의 규칙들은 llm에게 동작을 요구할때 권장되는 일관된 규칙이다.
* 통화 가치 단위를 백만 달러로 명시
* 통화 가치를 기호 없는 숫자로 표현
* 데이터가 없을 경우 추가 조사 시행, 또는 합리적인 추정치 사용



## program design rule
다음의 규칙들을 준수하며 코드를 작성할 것이 권장된다.

### 모듈 분리 및 append to method 데코레이터 규칙
- 유의미하게 분리 가능한 소작업(예: 입력값 전처리, 데이터 검증, 결과 포맷팅 등)은 반드시 별도의 함수(모듈)로 분리한다.
- 각 소작업 함수에는 `@append_to_method` 데코레이터를 적용한다.
- 모든 소작업 함수의 파라미터와 반환값은 반드시 단일 `str` 타입으로 고정한다.
- 함수 내부에서 필요한 추가 데이터가 있을 경우, 입력받은 `str`을 파싱하거나 직렬화된 형태로 처리한다.
- 이 규칙은 유지보수성과 확장성을 높이기 위한 일관된 설계 원칙이다.